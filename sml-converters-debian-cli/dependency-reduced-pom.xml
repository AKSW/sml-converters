<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <parent>
    <artifactId>sml-converters-parent</artifactId>
    <groupId>org.aksw.sml</groupId>
    <version>0.0.1-SNAPSHOT</version>
  </parent>
  <modelVersion>4.0.0</modelVersion>
  <artifactId>sml-converters-debian-cli</artifactId>
  <build>
    <plugins>
      <plugin>
        <artifactId>maven-shade-plugin</artifactId>
        <version>2.0</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
            <configuration>
              <transformers>
                <transformer />
              </transformers>
              <filters>
                <filter>
                  <artifact>*:*</artifact>
                  <excludes>
                    <exclude>META-INF/*.SF</exclude>
                    <exclude>META-INF/*.DSA</exclude>
                    <exclude>META-INF/*.RSA</exclude>
                  </excludes>
                </filter>
              </filters>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.vafer</groupId>
        <artifactId>jdeb</artifactId>
        <version>1.0</version>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>jdeb</goal>
            </goals>
            <configuration>
              <deb>${project.build.directory}/${deb.packageName}_[[version]]_all.deb</deb>
              <timestamped>true</timestamped>
              <dataSet>
                <data>
                  <type>directory</type>
                  <src>${basedir}/src/deb/resources/etc</src>
                  <mapper>
                    <type>perm</type>
                    <prefix>/etc</prefix>
                  </mapper>
                </data>
                <data>
                  <type>directory</type>
                  <src>${basedir}/src/deb/resources/usr/bin</src>
                  <mapper>
                    <type>perm</type>
                    <prefix>/usr/bin</prefix>
                    <filemode>755</filemode>
                  </mapper>
                </data>
                <data>
                  <type>file</type>
                  <src>${project.build.directory}/${deb.jarFile}</src>
                  <mapper>
                    <type>perm</type>
                    <prefix>/usr/share/lib/${deb.packageName}</prefix>
                  </mapper>
                </data>
                <data>
                  <type>link</type>
                  <symlink>true</symlink>
                  <linkName>/usr/share/lib/${deb.packageName}/${deb.packageName}.jar</linkName>
                  <linkTarget>/usr/share/lib/${deb.packageName}/${deb.jarFile}</linkTarget>
                </data>
              </dataSet>
            </configuration>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  <properties>
    <deb.jarFile>${project.artifactId}-${project.version}.jar</deb.jarFile>
    <deb.packageName>sml-converters-cli</deb.packageName>
    <project.description>Command line tools for SML and R2RML conversions.</project.description>
  </properties>
</project>

